#!/bin/bash

# Elliott Wave Live Signals - Web UI Starter Script

echo "======================================"
echo "Elliott Wave Live Signals - Web UI"
echo "======================================"
echo ""

# Check if virtual environment exists
if [ ! -d ".venv" ]; then
    echo "‚ùå Virtual environment not found!"
    echo "Please create one with: python3 -m venv .venv"
    exit 1
fi

# Check if Flask is installed
if ! .venv/bin/python -c "import flask" 2>/dev/null; then
    echo "üì¶ Installing Flask + dependencies..."
    .venv/bin/pip install flask flask-cors
fi

# Check if Claude CLI is available
if ! command -v claude &> /dev/null; then
    echo "‚ö†Ô∏è  Claude CLI not found in PATH"
    echo "   You can still use the app, but disable 'Use Claude CLI' checkbox"
    echo ""
fi

echo "üöÄ Starting Flask backend on http://localhost:5000"
echo ""
echo "   ‚Ä¢ Open http://localhost:5000 in your browser"
echo "   ‚Ä¢ Click 'Start Scan' to begin"
echo "   ‚Ä¢ Enable 'Use Claude CLI' for AI analysis"
echo ""
echo "Press Ctrl+C to stop"
echo ""

# Start backend
.venv/bin/python src/web_backend.py --host 127.0.0.1 --port 5000
