# Block Puzzle Hero - Project Overview

**Erstellt**: 2025-11-06
**Letzte Aktualisierung**: 2025-11-06
**Status**: Active Development

---

## Executive Summary

Block Puzzle Hero ist eine moderne Web-basierte Block-Puzzle-Spielanwendung mit dreistufigem Monetarisierungsmodell (FREE â†’ TRIAL â†’ PREMIUM). Das Projekt nutzt Next.js 14, TypeScript und wurde kÃ¼rzlich von Phaser.js auf Konva.js migriert.

---

## Projektziele

### PrimÃ¤re Ziele

1. **Engaging Gameplay**: SÃ¼chtig machendes Block-Puzzle-Spiel mit 50 Levels
2. **Monetarisierung**: Dreistufiges Modell zur Umsatzgenerierung
3. **Performance**: < 5s Ladezeit, 60 FPS auf mobilen GerÃ¤ten
4. **Accessibility**: Web-basiert, keine Installation erforderlich
5. **Offline-FÃ¤higkeit**: PWA mit Offline-Support

### SekundÃ¤re Ziele

- Cross-Device-Synchronisation
- Social Features (Leaderboards)
- Analytics und Tracking
- Mehrsprachigkeit

---

## Monetarisierungsmodell

### Free Tier
- **Levels**: 3
- **Features**: VollstÃ¤ndiges Gameplay
- **Authentifizierung**: Nicht erforderlich
- **Ziel**: Nutzer-Akquise

### Trial Tier
- **Levels**: 10
- **Dauer**: 7 Tage kostenlos
- **Features**: Erweiterte Levels, Progress-Sync
- **Authentifizierung**: OAuth (Google/Facebook/Apple)
- **Ziel**: Nutzer-Engagement

### Premium Tier
- **Levels**: 50
- **Kosten**: â‚¬0.99/Monat
- **Features**: Alle Levels, Priority Support, Keine Ads
- **Zahlung**: Handcash (BSV Blockchain)
- **Ziel**: Umsatzgenerierung (15% Konversionsrate angestrebt)

---

## Technologie-Ãœbersicht

### Frontend
- **Framework**: Next.js 14 (App Router)
- **Sprache**: TypeScript 5.x (strict mode)
- **Game Engine**: Konva.js (migriert von Phaser.js)
- **Styling**: Tailwind CSS 3.x
- **State**: Zustand 4.5.5

### Backend
- **Runtime**: Node.js 18+
- **Database**: PostgreSQL 15+
- **ORM**: Prisma 5.22.0
- **Cache**: Redis 7+
- **Auth**: NextAuth.js 5.0

### Infrastructure
- **Deployment**: [TBD]
- **CI/CD**: GitHub Actions
- **Monitoring**: [TBD]
- **Analytics**: Google Analytics (optional)

---

## Architektur

### Schichtenmodell

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Presentation Layer              â”‚
â”‚  (Next.js Pages, React Components)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Game Engine Layer               â”‚
â”‚  (Konva.js Canvas Rendering)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Business Logic Layer            â”‚
â”‚  (Game Mechanics, Scoring, Levels)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         State Management Layer          â”‚
â”‚  (Zustand Stores)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         API Layer                       â”‚
â”‚  (Next.js API Routes)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Data Access Layer               â”‚
â”‚  (Prisma ORM)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Data Layer                      â”‚
â”‚  (PostgreSQL, Redis)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Kernfeatures

### Implementiert âœ…

- 8x8 Grid-basiertes Puzzle
- Drag & Drop Block-Platzierung
- Line Clearing (Rows & Columns)
- Scoring-System mit Combo-Multiplier
- 3 Level-Konfigurationen
- Responsive Design
- Debug-Modus
- Konva.js Integration

### In Entwicklung ðŸš§

- VollstÃ¤ndige Authentication
- Payment Integration
- Database Persistence
- PWA Implementation
- Cross-Device Sync

### Geplant ðŸ“‹

- 50 Level-Designs
- Particle Effects
- Sound/Music
- Leaderboards
- Achievements
- Tutorial System

---

## Metriken & KPIs

### Performance Targets

| Metrik | Ziel | Aktuell |
|--------|------|---------|
| First Contentful Paint | < 5s | âœ… ~2s |
| Gameplay FPS | 60 FPS | âœ… 60 FPS |
| Bundle Size | < 500 KB | âœ… 165 KB |
| Lighthouse Score | > 90 | ðŸš§ TBD |

### Business Targets (12 Wochen nach Launch)

| Metrik | Ziel |
|--------|------|
| Trial Signups/Monat | 100 |
| Trial â†’ Premium Conversion | 15% |
| Monthly Recurring Revenue | â‚¬15/Monat |

---

## Team & Rollen

- **Development**: Thomas + Claude AI
- **Design**: [TBD]
- **Testing**: Automated + Manual
- **Product**: [TBD]

---

## Timeline

### Completed Milestones

- âœ… Initial Setup (Next.js, TypeScript, Tailwind)
- âœ… Game Mechanics Implementation (Phaser)
- âœ… Konva.js Migration (2025-11-04)
- âœ… Responsive Design Optimization

### Current Sprint

- ðŸš§ Memory-Bank System Setup
- ðŸš§ Documentation Consolidation

### Next Milestones

- Database Integration
- Authentication Flow
- Payment Integration
- 50 Level Designs
- Production Deployment

---

## Risiken & Mitigations

### Technische Risiken

| Risiko | Wahrscheinlichkeit | Impact | Mitigation |
|--------|-------------------|--------|------------|
| Performance Issues | Low | High | Konva migration, performance testing |
| Browser Compatibility | Medium | Medium | Cross-browser E2E tests |
| Scaling Issues | Low | High | Redis caching, CDN |

### Business Risiken

| Risiko | Wahrscheinlichkeit | Impact | Mitigation |
|--------|-------------------|--------|------------|
| Low Conversion Rate | Medium | High | A/B Testing, UX optimization |
| Payment Issues | Low | High | Handcash fallback, testing |
| User Churn | Medium | Medium | Engaging content, regular updates |

---

## Compliance & Security

### Data Protection
- GDPR-konform (EU users)
- Datensparsamkeit
- VerschlÃ¼sselte Verbindungen (HTTPS)
- Secure authentication (OAuth 2.0)

### Security Measures
- CSP Headers
- XSS Protection
- CSRF Protection
- Rate Limiting
- Input Validation

---

## Support & Maintenance

### Monitoring
- Application logs
- Error tracking
- Performance monitoring
- User analytics

### Backup Strategy
- Database backups (daily)
- Code versioning (Git)
- Environment configs backed up

### Update Schedule
- Security patches: Immediate
- Bug fixes: Weekly
- Features: Bi-weekly
- Major releases: Monthly

---

## Links & Resources

### Documentation
- [README.md](../../README.md)
- [WORKFLOW.md](../../WORKFLOW.md)
- [KONVA_MIGRATION.md](../../KONVA_MIGRATION.md)

### External Resources
- [Next.js Docs](https://nextjs.org/docs)
- [Konva.js Docs](https://konvajs.org/docs/)
- [Prisma Docs](https://www.prisma.io/docs)

### Project Management
- [GitHub Repository](https://github.com/thomas0369/block-puzzle-hero)
- [Issues](https://github.com/thomas0369/block-puzzle-hero/issues)

---

**Maintainer**: Thomas + Claude AI
**Last Review**: 2025-11-06
**Next Review**: 2025-11-13
