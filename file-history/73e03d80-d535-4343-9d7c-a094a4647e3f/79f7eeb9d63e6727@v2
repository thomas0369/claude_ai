/**
 * Demo Game Configuration
 *
 * Following best practices from research:
 * - Canvas renderer (better mobile support than WebGL)
 * - 60 FPS target
 * - Pixel-perfect rendering disabled (antialiasing off for performance)
 * - Responsive scaling
 */

import * as Phaser from 'phaser';
import { DemoScene } from './scenes/DemoScene';

export const DemoGameConfig: Phaser.Types.Core.GameConfig = {
  type: Phaser.CANVAS, // Canvas renderer (not WebGL) - better mobile support
  width: 800,
  height: 600,
  backgroundColor: '#1a1a2e',
  parent: 'game-container',

  scene: [DemoScene],

  // Performance optimizations
  render: {
    pixelArt: false,
    antialias: false, // Faster rendering
    roundPixels: true, // Snap to pixel grid
  },

  // Frame rate configuration
  fps: {
    target: 60,
    forceSetTimeOut: false, // Use requestAnimationFrame
    min: 30, // Degrade gracefully
  },

  // Responsive scaling
  scale: {
    mode: Phaser.Scale.FIT,
    autoCenter: Phaser.Scale.CENTER_BOTH,
  },

  // Physics (not needed for this demo, but configured)
  physics: {
    default: 'arcade',
    arcade: {
      gravity: { y: 0, x: 0 },
      debug: false,
    },
  },
};

// Game constants
export const GRID_SIZE = 8;
export const CELL_SIZE = 50;
export const GRID_OFFSET_X = 100;
export const GRID_OFFSET_Y = 50;
export const SPAWN_Y = 500;
export const SPAWN_SPACING = 150;

// Block shapes
export const BLOCK_SHAPES = [
  // Single cell
  [[1]],

  // 2x1 horizontal
  [[1, 1]],

  // 1x2 vertical
  [[1], [1]],

  // L-shape
  [[1, 0], [1, 1]],

  // T-shape
  [[1, 1, 1], [0, 1, 0]],

  // Square
  [[1, 1], [1, 1]],
];

// Block colors
export const BLOCK_COLORS = [
  '#FF6B6B', // Red
  '#4ECDC4', // Teal
  '#45B7D1', // Blue
  '#FFA07A', // Orange
  '#98D8C8', // Mint
  '#F7DC6F', // Yellow
];
