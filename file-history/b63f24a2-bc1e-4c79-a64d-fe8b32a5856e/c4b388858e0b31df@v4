project:
  name: C&I BESS Competition Analysis
  status: production_ready
  version: 2.0.0
  last_updated: '2025-11-04T21:28:40.941308Z'
statistics:
  manufacturers: 14
  products: 14
  zerez_variants: 78
  zerez_total_available: 10177
  pdf_datasheets: 57
  coverage_percent: 99
  typescript_files: 65
  react_components: 9
  library_files: 20
  python_scripts: 25
  lines_of_code_estimate: 9000
  api_routes: 5
  zerez_filters: 13
database:
  companies_yaml: 14
  products_yaml: 14
  location: data/
  format: YAML
extraction_pipeline:
  status: operational
  tiers:
  - pdfplumber (Tier 1)
  - camelot lattice/stream (Tier 2)
  - text fallback (Tier 3)
  - AI Vision - Gemini/Claude (Tier 4)
  cost: $0.00 (Gemini FREE tier)
  zerez_pipeline:
    graphql_api: Direct GraphQL API access (10,177 units available)
    step1: "ZEREZ GraphQL \u2192 JSON (production-ready, filters: power, category,\
      \ energy source, voltage)"
    step2: "PDF \u2192 JSON (57 files, 15.8% success, 9 products with 100% valid models)"
    step3: Merge datasets (339 final products, 1.5% PDF-enriched)
    validation: Strict model validation (uppercase + numbers required)
    data_quality: 91.4% known manufacturers (310/339)
    import_wizard: "3-step web interface (filter \u2192 import \u2192 match)"
    features:
    - GraphQL search with preview (max 20 products for performance)
    - Real-time progress tracking via SSE streaming
    - PDF fuzzy matching with confidence scores
    - Manufacturer name resolution via tenant() GraphQL queries
    - Defense-in-depth validation (UUID, array limits, duplicates)
data_quality:
  confidence_avg: 4.5
  completeness:
    power: 100
    efficiency: 85
    dimensions: 90
    electrical: 75
    environmental: 80
  zerez_data:
    manufacturers_known: 91.4
    models_valid: 100
    schema_consistency: 100
    enrichment_rate: 1.5
    total_count_accuracy: 100
git_state:
  current_branch: main
  uncommitted_changes: true
  files_deleted: 0
  files_modified: 1
  files_new: 0
github:
  repository: thomas0369/c-i-competition-analysis
  authenticated: true
  protocol: https
  dependabot_branches: 3
recent_milestones:
- date: '2025-11-04'
  event: ZEREZ GraphQL client production-grade refactoring
  commit: pending
  details: 'Eliminated 152 lines of code duplication (93% reduction) by creating generic
    _resolve_tenant_names() method. Added UUID validation. Refactored manufacturer
    and certificate authority resolution to 8-line thin wrappers.

    Code review approved for production. Zero duplication, comprehensive error handling,
    parallel execution maintained. "The best request in the world for ZEREZ" achieved.

    '
- date: '2025-11-02'
  event: ZEREZ import race condition fix and validation standardization
  commit: 418347b, 38b9747, 5dc6742
  details: 'Fixed critical race condition in ZEREZ import step transitions. Replaced
    useEffect-based synchronization with direct synchronous execution.

    Standardized UUID validation to support ZEREZ non-standard format. Added venv
    support to Python executor. Added Playwright dependency.

    '
- date: '2025-11-02'
  event: Comprehensive project analysis completed
  commit: pending
  details: 'Full codebase exploration and documentation of project structure, technology
    stack, features, and status.

    Updated memory bank with current state. Identified 2 uncommitted files with validation
    improvements pending review.

    '
- date: '2025-11-02'
  event: Critical code review findings addressed
  commit: 0cee0fb
  details: 'Fixed 4 priority issues: tuple unpacking bug, console.error removal, dead
    code cleanup, documentation improvements.

    All validation and type safety measures in place. Production-ready status confirmed.

    '
- date: '2025-11-01'
  event: ZEREZ totalCount propagation and code quality improvements
  commit: c2044a8
  details: "Implemented tuple return pattern from Python \u2192 Node.js \u2192 React\
    \ for accurate totalCount display.\nAdded Zod validation, comprehensive API validation,\
    \ and fixed 4 code review findings.\nUpdated documentation with clear implementation\
    \ references. All code review issues resolved.\n"
- date: '2025-10-31'
  event: ZEREZ GraphQL comprehensive filter support
  commit: completed
  details: 'Added introspection query for dynamic enum discovery. Implemented 13 total
    filters including

    power range, energy source, category, voltage, verification status, 4105 compliance,
    and more.

    Achieved 100% filter parity with ZEREZ web interface.

    '
- date: '2025-10-30'
  event: ZEREZ Import Wizard deployment
  commit: completed
  details: "3-step wizard UI (filter \u2192 import \u2192 match) with SSE streaming,\
    \ PDF fuzzy matching,\nand manufacturer name resolution. GraphQL API integration\
    \ with professional UI.\n"
- date: '2025-10-29'
  event: ZEREZ GraphQL API breakthrough discovery
  commit: completed
  details: 'Discovered and implemented direct GraphQL API client. 600-1200x faster
    than HTML scraping.

    10,177 units available via public API vs 370 manually collected.

    '
- date: '2025-10-29'
  event: Memory-bank comprehensive analysis and update
  commit: pending
  details: Complete project inventory, statistics update, component mapping
- date: '2025-10-26'
  event: v2.0.0 Enterprise Analytics Platform Release
  commit: 9f4abff
  details: 'Major feature additions:

    - Apache ECharts interactive visualizations (timeline, matrix, heatmap)

    - AI-powered data enrichment (market position, innovation scoring)

    - Statistical analysis engine (correlations, trends, clustering)

    - Professional export suite (CSV, Excel, PDF, PowerPoint)

    - Enhanced type system with comprehensive TypeScript definitions

    - Playwright E2E testing infrastructure

    - DuckDB-WASM for in-browser SQL analytics

    '
active_components:
  benchmark_app:
    framework: Next.js 15.0.0 with App Router
    version: 2.0.0
    components:
    - CertificationTimeline.tsx (ECharts scatter/bubble timeline)
    - CompetitiveMatrix.tsx (Strategic positioning quadrants)
    - PerformanceHeatmap.tsx (Multi-metric comparison)
    - TimelineChart.tsx (Original timeline)
    - SimpleDataTable.tsx (Data table component)
    - ChartErrorBoundary.tsx (Error handling)
    - PowerDensityFilters.tsx (Filtering UI)
    zerez_import:
    - app/import/zerez/page.tsx (3-step wizard UI)
    - app/api/zerez/search/route.ts (GraphQL search with validation)
    - app/api/zerez/import-details/route.ts (SSE streaming import)
    - app/api/zerez/match-pdf/route.ts (PDF fuzzy matching)
    - app/api/zerez/enum-values/route.ts (Enum discovery)
    libraries:
    - data-enrichment.ts (AI market position, innovation scoring)
    - statistics.ts (Correlations, trend analysis, clustering)
    - export.ts (CSV, Excel, PDF, PowerPoint generation)
    - dataLoader-enhanced.ts (Type-safe YAML loading)
    - types-enhanced.ts (Enhanced TypeScript types)
    - zerez-types.ts (Zod schemas for ZEREZ data)
    - echarts-types.ts (ECharts TypeScript definitions)
    - data-aggregation.ts (Data processing)
    - product-indexes.ts (Product indexing)
    - table-columns.ts (Table configurations)
    - ui-utils.ts (UI helper functions)
    - ui-constants.ts (UI strings and documentation)
    - unit-formatters.ts (Data formatting utilities)
    testing:
    - Playwright E2E test suite
    - Browser verification tests
    - Dashboard interaction tests
    - ZEREZ table verification tests
    dependencies:
      visualization:
      - echarts: 5.5.0
      - echarts-for-react: 3.0.2
      - recharts: 2.10.3
      - d3: 7.8.5
      - plotly.js: 3.1.2
      data_processing:
      - '@duckdb/duckdb-wasm': 1.28.0
      - simple-statistics: 7.8.3
      - mathjs: 12.3.0
      - '@tensorflow/tfjs': 4.15.0
      export:
      - jspdf: 3.0.3
      - xlsx: 0.20.3
      - pptxgenjs: 3.12.0
      - html2canvas: 1.4.1
      state_management:
      - zustand: 4.4.7
      - '@tanstack/react-query': 5.17.0
  python_scripts:
    extraction:
    - auto_fill_missing_data.py (15,939 lines)
    - download_datasheets.py (15,403 lines)
    - generate_yaml_database.py (11,527 lines)
    benchmarking:
    - benchmark_starter.py (location: scripts/benchmarking/)
    data_quality:
    - Multiple validation scripts (location: scripts/data_quality/)
    memory_bank:
    - Session management tools (location: scripts/memory_bank/)
    git_tools:
    - worktree_manager.py (location: scripts/git_tools/)
    zerez:
    - zerez_graphql_client.py (Production-grade GraphQL client - DRY refactored, UUID
      validated)
    - zerez_search_advanced.py (JSON wrapper for Node.js integration)
    - zerez_detail_importer.py (Playwright HTML scraper)
    - zerez_pdf_matcher.py (Fuzzy PDF matcher)
    - test_manufacturer_lookup.py (GraphQL testing utility)
    - improved_zerez_matching.py (Legacy matching)
  config:
  - pdf_extraction_config.yaml
  - manufacturers_config.yaml
  - playwright.config.ts (E2E testing)
  - playwright-manual.config.ts (Manual testing)
  - tsconfig.json (TypeScript configuration)
zerez_import_system:
  status: production_ready
  architecture: "GraphQL API \u2192 Node.js API Routes \u2192 React UI"
  features:
  - GraphQL search with 13 filter types
  - totalCount propagation for accurate "X of Y" display
  - Zod schema validation for type safety
  - UUID validation with format checking (prevents invalid API calls)
  - Array length limits (max 100 products per import)
  - Duplicate ID detection
  - Manufacturer and certificate authority name resolution (DRY refactored)
  - Generic tenant resolution pattern (zero code duplication)
  - Real-time progress tracking (SSE)
  - PDF fuzzy matching with confidence scores
  code_quality:
  - Zero duplication in resolution logic (was 93%)
  - Production-grade error handling
  - Parallel resolution maintained via ThreadPoolExecutor
  - Code review approved (0 critical, 0 high issues)
  performance:
  - Preview limited to 20 products for faster response
  - Shows total available count (e.g., "20 of 10,177")
  - No console statements or dead code
  - Defense-in-depth validation layers
  documentation:
  - MANUFACTURER_NAME_RESOLUTION.md (architecture)
  - ZEREZ_COMPLETE_FILTER_PLAN.md (filter implementation)
  - Comprehensive inline documentation with file references
priorities:
  current:
  - Commit ZEREZ GraphQL client refactoring (production-ready)
  - Review and commit memory bank updates
  - Test totalCount display with large result sets (>1000 products)
  completed:
  - "\u2705 ZEREZ code duplication eliminated (152 lines removed)"
  - "\u2705 UUID validation added to GraphQL client"
  - "\u2705 Production-grade code review completed and approved"
  - "\u2705 Certificate authority name resolution implemented"
  - "\u2705 Parallel execution maintained and verified"
  immediate:
  - Add integration tests for tuple return pattern
  - Run full E2E test suite for ZEREZ import wizard
  - Consider automated unit tests for refactored methods
  backlog:
  - Merge Dependabot branches (if any remain)
  - Add new manufacturers to database
  - Enhance AI extraction prompts for better accuracy
  - Build additional comparison analytics
  - Optimize bundle size and performance
  - Add more E2E test coverage
  - Consider documentation consolidation
  technical_debt:
  - Documentation proliferation (23+ markdown files, many appear temporary)
  - Removed PivotTablePro.tsx component - verify no dependencies
  - Large Python scripts (auto_fill_missing_data.py: 15k lines)
  - Review and potentially refactor monolithic scripts
  - Many background bash processes from testing (can be cleaned up)
