#!/usr/bin/env python3
"""Test which fields are available in the unit(id) query."""

import requests
import json

# Test if unit(id) query supports these additional fields
query = """
query GetDetailedUnit($id: UUID!) {
  unit(id: $id) {
    id
    modelName
    manufacturerName
    primaryEnergySource
    category
    certificateNumber
    certificateNormIssueDateDescriptions
    maxActivePower
    ratedActivePower
    ratedVoltage
    ratedCurrent
    shortCircuitPeakCurrent
    initialShortCircuitAlternatingCurrent
  }
}
"""

payload = {
    "operationName": "GetDetailedUnit",
    "variables": {"id": "31a1ec03-d151-40ae-22c4-08dd3bce9e48"},
    "query": query
}

response = requests.post(
    'https://app-zerez-weeu-gatewaysvc-prod-01.azurewebsites.net/graphql/',
    json=payload,
    timeout=10
)

print(json.dumps(response.json(), indent=2))
