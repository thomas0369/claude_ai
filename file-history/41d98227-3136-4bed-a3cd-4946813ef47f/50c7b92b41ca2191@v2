# C&I BESS Competition Analytics Platform v2.0

> World-class enterprise intelligence and benchmarking system for Battery Energy Storage Systems (BESS) competition analysis

## Live Demo

ğŸŒ **Try the application online:** https://c-i-competition-analysis.vercel.app/

The platform is deployed on Vercel and ready for immediate testing. No installation required - just visit the link to explore:
- Interactive dashboard with AG Grid pivot tables
- ZEREZ importer with real-time filtering
- Certification timeline and competitive analysis
- Export capabilities (CSV, Excel, PDF, PowerPoint)

## Overview

A production-ready, enterprise-grade analytics platform combining AG Grid Enterprise pivot tables, Apache ECharts visualizations, statistical analysis, and AI-powered insights to analyze the C&I BESS market landscape.

### Key Features

**Advanced Visualizations**
- ğŸ“Š **AG Grid Enterprise Pivot Tables** - Dynamic multi-dimensional analysis with drag-and-drop
- ğŸ“ˆ **Apache ECharts Timeline** - Interactive certification timeline with zoom and pan
- ğŸ¯ **Competitive Positioning Matrix** - Strategic quadrant analysis (Leaders/Challengers/Innovators/Followers)
- ğŸ”¥ **Performance Heatmap** - Multi-metric comparison across manufacturers

**Competitive Intelligence**
- ğŸ¤– AI-powered insights and recommendations
- ğŸ“Š Market position analysis (Leader, Challenger, Innovator, Follower)
- ğŸ’¡ Innovation scoring algorithm
- ğŸ“ˆ Efficiency percentile rankings
- ğŸ¯ Recommendation scores with confidence levels

**Data Processing**
- ğŸ”„ Automatic data enrichment with competitive metrics
- ğŸ“‰ Statistical analysis engine (correlations, trends, forecasting)
- ğŸ¨ Beautiful, responsive UI with dark mode support
- ğŸ’¾ Export to CSV, Excel, PDF, and PowerPoint

**Analytics Features**
- Real-time filtering and cross-filtering
- Trend analysis with forecasting
- Correlation matrix calculations
- Anomaly detection
- K-means clustering

## Technology Stack

### Frontend
- **Next.js 15** - React framework with App Router
- **TypeScript** - Type-safe development
- **Tailwind CSS** - Utility-first styling

### Visualization
- **AG Grid Enterprise 31.x** - Advanced pivot tables and data grids
- **Apache ECharts 5.5** - Professional charting library
- **Recharts** - Additional chart components
- **D3.js** - Data-driven visualizations

### Data & Analytics
- **DuckDB-WASM** - In-browser SQL analytics
- **Simple Statistics** - Statistical computations
- **Math.js** - Mathematical operations
- **TensorFlow.js** - Machine learning capabilities

### State Management
- **Zustand** - Lightweight state management
- **React Query** - Server state management

### Export & Reporting
- **jsPDF** - PDF generation
- **xlsx** - Excel file generation
- **pptxgen.js** - PowerPoint generation
- **html2canvas** - Chart to image conversion

## Installation

### Prerequisites

- Node.js 18.x or later
- npm or yarn

### Setup Steps

1. **Clone and navigate to the app:**
   ```bash
   cd benchmark-app
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

3. **Configure AG Grid Enterprise License (Optional for Development, Required for Production):**

   **Development/Trial Mode (No License Required):**
   - AG Grid Enterprise runs in trial mode for 14 days
   - All enterprise features (pivot, charts, export) are fully functional
   - Console warnings and watermarks will appear during trial
   - Perfect for development and evaluation

   **Production License Setup:**
   - Get a license key from https://www.ag-grid.com/license-pricing/
   - Create `.env.local` in the `benchmark-app/` directory:
     ```env
     NEXT_PUBLIC_AG_GRID_LICENSE=your-license-key-here
     ```
   - The license is automatically applied via `lib/ag-grid-config.ts`
   - This removes console warnings and watermarks

   **Important:**
   - Never commit `.env.local` to version control (already in .gitignore)
   - AG Grid Enterprise modules are registered in `lib/ag-grid-config.ts`
   - License is required for commercial production use

4. **Start development server:**
   ```bash
   npm run dev
   ```

5. **Open in browser:**
   ```
   http://localhost:3000/dashboard
   ```

## Project Structure

```
benchmark-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ page.tsx              # Main dashboard page
â”‚   â”œâ”€â”€ globals.css
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PivotTablePro.tsx         # AG Grid pivot table
â”‚   â”œâ”€â”€ CertificationTimeline.tsx # ECharts timeline
â”‚   â”œâ”€â”€ CompetitiveMatrix.tsx     # Positioning matrix
â”‚   â”œâ”€â”€ PerformanceHeatmap.tsx    # Performance heatmap
â”‚   â”œâ”€â”€ PivotChart.tsx            # Original pivot chart
â”‚   â”œâ”€â”€ TimelineChart.tsx         # Original timeline
â”‚   â””â”€â”€ ComparisonChart.tsx       # Original comparison
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ types-enhanced.ts         # Enhanced TypeScript types
â”‚   â”œâ”€â”€ store.ts                  # Zustand state management
â”‚   â”œâ”€â”€ statistics.ts             # Statistical analysis engine
â”‚   â”œâ”€â”€ data-enrichment.ts        # AI-powered data enrichment
â”‚   â”œâ”€â”€ export.ts                 # Export utilities
â”‚   â”œâ”€â”€ dataLoader-enhanced.ts    # Enhanced data loader
â”‚   â”œâ”€â”€ dataLoader.ts             # Original data loader
â”‚   â””â”€â”€ types.ts                  # Original types
â”œâ”€â”€ public/
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ products/             # Product YAML files
â”‚       â”œâ”€â”€ companies/            # Company YAML files
â”‚       â””â”€â”€ zerez/                # ZEREZ certification data
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ next.config.js
```

## Features Guide

### 1. Pivot Analysis

The AG Grid Enterprise pivot table allows you to:

- **Drag and drop** columns to row groups or pivot dimensions
- **Dynamic aggregations** (sum, average, min, max, count)
- **Advanced filtering** on any column
- **Export** to CSV or Excel with pivot state preserved
- **Chart integration** directly from grid data

**Usage:**
1. Click sidebar to access column panel
2. Drag columns to "Row Groups" to group data
3. Drag columns to "Pivot" to create pivot dimensions
4. Drag numerical columns to "Values" for aggregations
5. Use filters to focus on specific data

### 2. Certification Timeline

Interactive timeline showing product certifications over time:

- **Scatter plot** with dates on X-axis, power on Y-axis
- **Bubble size** represents ZEREZ variant count
- **Color grouping** by manufacturer or market position
- **Zoom and pan** for detailed exploration
- **Statistics panel** showing key metrics

### 3. Competitive Positioning Matrix

Strategic quadrant analysis:

- **X-axis:** Innovation Index (0-100)
- **Y-axis:** Market Presence (%)
- **Quadrants:** Leaders, Challengers, Innovators, Followers
- **Bubble size:** Product portfolio size
- **Color coding:** Market position

### 4. Performance Heatmap

Multi-dimensional performance comparison:

- **Metrics:** Efficiency, Power Density, Innovation, Market Share, Recommendation, Data Quality
- **Color scale:** 0-100 performance score
- **Tooltip:** Detailed metric values
- **Top performers:** Highlighted per metric

## Data Enrichment

The platform automatically enriches product data with:

### Competitive Intelligence
- Market position classification
- Innovation score calculation
- Price index estimation
- Unique selling points identification

### Benchmarks
- Efficiency percentile ranking
- Power density ranking
- Cost efficiency score
- Comparison vs market average

### AI Insights
- Strengths analysis
- Weaknesses identification
- Market opportunities
- Risk factors
- Competitive threats
- Recommendation score (0-100)

## Export Capabilities

### CSV Export
- Raw data in comma-separated format
- All products with key metrics
- Compatible with Excel and other tools

### Excel Export (XLSX)
- Multiple sheets:
  - Overview
  - Technical Specifications
  - Competitive Analysis
- Formatted tables with headers
- Preserves data types

### PDF Export
- Executive summary
- Product comparison table
- Chart visualizations
- Professional formatting

### PowerPoint Export (PPTX)
- Title slide
- Executive summary slide
- Top performers slide
- Chart visualization slides
- Ready for presentations

## Performance Optimization

- **Virtual scrolling** for large datasets (AG Grid)
- **Data caching** (30-minute TTL)
- **Lazy loading** of chart components
- **React Server Components** for static content
- **Code splitting** for optimal bundle size

## Development

### Build for Production

```bash
npm run build
npm start
```

### Validation

Run comprehensive validation tests:

```bash
# Run all validations
npm run validate

# Run specific validations
npm run validate:all          # Comprehensive feature validation
npm run validate:enrichment   # Data enrichment validation
npm run validate:quick        # Quick validation (same as validate:all)
```

The validation scripts test:
- Data loading and parsing
- Data enrichment algorithms
- TypeScript type safety
- React components
- Production build
- Power density calculations
- Field preservation

### Linting

```bash
npm run lint
```

### Type Checking

```bash
npx tsc --noEmit
```

## Configuration

### Environment Variables

Create `.env.local`:

```env
# Optional: API endpoints for future integrations
NEXT_PUBLIC_API_URL=http://localhost:3001

# Optional: Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
```

### Customization

**Colors & Branding:**
- Edit `tailwind.config.ts` for color scheme
- Update `app/globals.css` for global styles

**Data Sources:**
- Add YAML files to `public/data/products/`
- Update `dataLoader-enhanced.ts` with new file names

**Metrics:**
- Modify `data-enrichment.ts` for custom scoring algorithms
- Update `statistics.ts` for additional statistical methods

## Troubleshooting

**AG Grid license warning:**
- Expected if using AG Grid Community features
- Upgrade to Enterprise license for full pivot functionality

**Charts not rendering:**
- Check browser console for errors
- Ensure data is loading correctly
- Verify ECharts version compatibility

**Slow performance:**
- Enable data caching in store
- Reduce dataset size for testing
- Use production build

**TypeScript errors:**
- Run `npm install` to ensure dependencies are installed
- Check tsconfig.json for strict mode settings

## Roadmap

### Phase 1 (Current)
- âœ… Enhanced visualizations
- âœ… AI-powered insights
- âœ… Export capabilities
- âœ… Statistical analysis

### Phase 2 (Next)
- ğŸ”„ PostgreSQL database integration
- ğŸ”„ Real-time data updates
- ğŸ”„ Natural language queries
- ğŸ”„ Collaborative features

### Phase 3 (Future)
- ğŸ“… Machine learning predictions
- ğŸ“… Custom dashboard builder
- ğŸ“… API integration framework
- ğŸ“… Mobile application

## Support

For issues, questions, or contributions:
- Create an issue in the repository
- Check documentation in `/docs`
- Review example implementations in `/examples`

## License

MIT License - See LICENSE file for details

---

**Built with** â¤ï¸ **for world-class BESS market analysis**

_Version 2.0 - Enterprise Analytics Platform_
